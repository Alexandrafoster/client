{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { fuseAnimations } from '@fuse/animations';\nimport { emailValidator } from 'app/core/auth/app-validators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/core/auth/services/admin.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"app/core/auth/auth.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"app/core/auth/token-storage.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@fuse/components/alert/alert.component\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"@angular/material/progress-spinner\";\nconst _c0 = [\"signInNgForm\"];\n\nfunction AuthSignInComponent_fuse_alert_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"fuse-alert\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appearance\", \"outline\")(\"showIcon\", false)(\"type\", ctx_r0.alert.type)(\"@shake\", ctx_r0.alert.type === \"error\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alert.message, \" \");\n  }\n}\n\nfunction AuthSignInComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Email address is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthSignInComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Please enter a valid email address \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthSignInComponent_mat_icon_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-icon\", 30);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:eye\");\n  }\n}\n\nfunction AuthSignInComponent_mat_icon_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-icon\", 30);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:eye-off\");\n  }\n}\n\nfunction AuthSignInComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Sign in \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthSignInComponent_mat_progress_spinner_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-spinner\", 31);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 24)(\"mode\", \"indeterminate\");\n  }\n}\n\nexport let AuthSignInComponent = /*#__PURE__*/(() => {\n  class AuthSignInComponent {\n    /**\n     * Constructor\n     */\n    constructor(adminService, _activatedRoute, _authService, _formBuilder, tokenStorage, _router) {\n      this.adminService = adminService;\n      this._activatedRoute = _activatedRoute;\n      this._authService = _authService;\n      this._formBuilder = _formBuilder;\n      this.tokenStorage = tokenStorage;\n      this._router = _router;\n      this.alert = {\n        type: 'success',\n        message: ''\n      };\n      this.showAlert = false;\n      this.roles = [];\n      this.signInForm = this._formBuilder.group({\n        'email': [null, Validators.compose([Validators.required, emailValidator])],\n        'password': [null, Validators.compose([Validators.required])],\n        'rememberMe': false\n      });\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * On init\n     */\n\n\n    ngOnInit() {// if(this.adminService.isLoggedIn()) {\n      //     this._router.navigateByUrl('/signed-in-redirect');\n      //     }\n      // Create the form\n      // this.signInForm = this._formBuilder.group({\n      //     email     : ['misbah.siddiqui@wedeliver.com', [Validators.required, Validators.email]],\n      //     password  : ['admin', Validators.required],\n      //     rememberMe: ['']\n      // });\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Sign in\n     */\n\n\n    signIn() {\n      // Return if the form is invalid\n      if (this.signInForm.invalid) {\n        return;\n      } // Disable the form\n\n\n      this.signInForm.disable(); // Hide the alert\n\n      this.showAlert = false; // Sign in\n\n      this._authService.signIn(this.signInForm.value).subscribe(data => {\n        // Set the redirect url.\n        // The '/signed-in-redirect' is a dummy url to catch the request and redirect the user\n        // to the correct page after a successful sign in. This way, that url can be set via\n        // routing file and we don't have to touch here.\n        const redirectURL = this._activatedRoute.snapshot.queryParamMap.get('redirectURL') || '/signed-in-redirect'; // Navigate to the redirect url\n\n        this._router.navigateByUrl(redirectURL);\n\n        this.tokenStorage.saveToken(data.accessToken);\n        this.tokenStorage.saveUsername(data.username);\n        this.tokenStorage.saveAuthorities(data.authorities);\n        console.log('This User ', this.signInForm.value);\n        console.log('This Role ', data.authorities);\n        this.roles = this.tokenStorage.getAuthorities();\n      }, response => {\n        // Re-enable the form\n        this.signInForm.enable(); // Reset the form\n\n        this.signInNgForm.resetForm(); // Set the alert\n\n        this.alert = {\n          type: 'error',\n          message: 'Wrong email or password'\n        }; // Show the alert\n\n        this.showAlert = true;\n      });\n    }\n\n  }\n\n  AuthSignInComponent.ɵfac = function AuthSignInComponent_Factory(t) {\n    return new (t || AuthSignInComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.TokenStorageService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AuthSignInComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AuthSignInComponent,\n    selectors: [[\"auth-sign-in\"]],\n    viewQuery: function AuthSignInComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.signInNgForm = _t.first);\n      }\n    },\n    decls: 54,\n    vars: 12,\n    consts: [[1, \"flex\", \"flex-col\", \"sm:flex-row\", \"items-center\", \"md:items-start\", \"sm:justify-center\", \"md:justify-start\", \"flex-auto\", \"min-w-0\"], [1, \"md:flex\", \"md:items-center\", \"md:justify-end\", \"w-full\", \"sm:w-auto\", \"md:h-full\", \"md:w-1/2\", \"py-8\", \"px-4\", \"sm:p-12\", \"md:p-16\", \"sm:rounded-2xl\", \"md:rounded-none\", \"sm:shadow\", \"md:shadow-none\", \"sm:bg-card\"], [1, \"w-full\", \"max-w-80\", \"sm:w-80\", \"mx-auto\", \"sm:mx-0\"], [1, \"mt-8\", \"text-4xl\", \"font-extrabold\", \"tracking-tight\", \"leading-tight\"], [1, \"flex\", \"items-baseline\", \"mt-0.5\", \"font-medium\"], [\"class\", \"mt-8 -mb-4\", 3, \"appearance\", \"showIcon\", \"type\", 4, \"ngIf\"], [1, \"mt-8\", 3, \"formGroup\"], [\"signInNgForm\", \"ngForm\"], [1, \"w-full\"], [\"id\", \"email\", \"matInput\", \"\", 3, \"formControlName\"], [4, \"ngIf\"], [\"id\", \"password\", \"matInput\", \"\", \"type\", \"password\", 3, \"formControlName\"], [\"passwordField\", \"\"], [\"mat-icon-button\", \"\", \"type\", \"button\", \"matSuffix\", \"\", 3, \"click\"], [\"class\", \"icon-size-5\", 3, \"svgIcon\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", 1, \"fuse-mat-button-large\", \"w-full\", \"mt-6\", 3, \"color\", \"disabled\", \"click\"], [3, \"diameter\", \"mode\", 4, \"ngIf\"], [1, \"relative\", \"hidden\", \"md:flex\", \"flex-auto\", \"items-center\", \"justify-center\", \"w-1/2\", \"h-full\", \"p-16\", \"lg:px-28\", \"overflow-hidden\", \"bg-gray-800\", \"dark:border-l\"], [\"viewBox\", \"0 0 960 540\", \"width\", \"100%\", \"height\", \"100%\", \"preserveAspectRatio\", \"xMidYMax slice\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"absolute\", \"inset-0\", \"pointer-events-none\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"100\", 1, \"text-gray-700\", \"opacity-25\"], [\"r\", \"234\", \"cx\", \"196\", \"cy\", \"23\"], [\"r\", \"234\", \"cx\", \"790\", \"cy\", \"491\"], [\"viewBox\", \"0 0 220 192\", \"width\", \"220\", \"height\", \"192\", \"fill\", \"none\", 1, \"absolute\", \"-top-16\", \"-right-16\", \"text-gray-700\"], [\"id\", \"837c3e70-6c3a-44e6-8854-cc48c737b659\", \"x\", \"0\", \"y\", \"0\", \"width\", \"20\", \"height\", \"20\", \"patternUnits\", \"userSpaceOnUse\"], [\"x\", \"0\", \"y\", \"0\", \"width\", \"4\", \"height\", \"4\", \"fill\", \"currentColor\"], [\"width\", \"220\", \"height\", \"192\", \"fill\", \"url(#837c3e70-6c3a-44e6-8854-cc48c737b659)\"], [1, \"z-10\", \"relative\", \"w-full\", \"max-w-2xl\"], [1, \"text-7xl\", \"font-bold\", \"leading-none\", \"text-gray-100\"], [1, \"mt-6\", \"text-lg\", \"tracking-tight\", \"leading-6\", \"text-gray-400\"], [1, \"mt-8\", \"-mb-4\", 3, \"appearance\", \"showIcon\", \"type\"], [1, \"icon-size-5\", 3, \"svgIcon\"], [3, \"diameter\", \"mode\"]],\n    template: function AuthSignInComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r9 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtext(4, \"Sign in\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵtext(7, \"( Administrator Only )\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, AuthSignInComponent_fuse_alert_8_Template, 2, 5, \"fuse-alert\", 5);\n        i0.ɵɵelementStart(9, \"form\", 6, 7);\n        i0.ɵɵelementStart(11, \"mat-form-field\", 8);\n        i0.ɵɵelementStart(12, \"mat-label\");\n        i0.ɵɵtext(13, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 9);\n        i0.ɵɵtemplate(15, AuthSignInComponent_mat_error_15_Template, 2, 0, \"mat-error\", 10);\n        i0.ɵɵtemplate(16, AuthSignInComponent_mat_error_16_Template, 2, 0, \"mat-error\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-form-field\", 8);\n        i0.ɵɵelementStart(18, \"mat-label\");\n        i0.ɵɵtext(19, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 11, 12);\n        i0.ɵɵelementStart(22, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function AuthSignInComponent_Template_button_click_22_listener() {\n          i0.ɵɵrestoreView(_r9);\n\n          const _r4 = i0.ɵɵreference(21);\n\n          return _r4.type === \"password\" ? _r4.type = \"text\" : _r4.type = \"password\";\n        });\n        i0.ɵɵtemplate(23, AuthSignInComponent_mat_icon_23_Template, 1, 1, \"mat-icon\", 14);\n        i0.ɵɵtemplate(24, AuthSignInComponent_mat_icon_24_Template, 1, 1, \"mat-icon\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-error\");\n        i0.ɵɵtext(26, \" Password is required \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function AuthSignInComponent_Template_button_click_27_listener() {\n          return ctx.signIn();\n        });\n        i0.ɵɵtemplate(28, AuthSignInComponent_span_28_Template, 2, 0, \"span\", 10);\n        i0.ɵɵtemplate(29, AuthSignInComponent_mat_progress_spinner_29_Template, 1, 2, \"mat-progress-spinner\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 17);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(31, \"svg\", 18);\n        i0.ɵɵelementStart(32, \"g\", 19);\n        i0.ɵɵelement(33, \"circle\", 20);\n        i0.ɵɵelement(34, \"circle\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"svg\", 22);\n        i0.ɵɵelementStart(36, \"defs\");\n        i0.ɵɵelementStart(37, \"pattern\", 23);\n        i0.ɵɵelement(38, \"rect\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"rect\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(40, \"div\", 26);\n        i0.ɵɵelementStart(41, \"div\", 27);\n        i0.ɵɵelementStart(42, \"div\");\n        i0.ɵɵtext(43, \"Welcome to\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\");\n        i0.ɵɵtext(45, \"Alexandra Foster's Blog\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 28);\n        i0.ɵɵtext(47, \" Alexandra Foster's award-winning single female travel blog features travel information, resources, and recommendations from worldwide. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 28);\n        i0.ɵɵtext(49, \" I left my corporate job in the United States at the age of 21 to follow my ambition of travelling the globe and starting my own remote business. It all looked insane at the time, especially because I was young and broke, but after a few months, I was able to pull it off! \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 28);\n        i0.ɵɵtext(51, \" I am now a successful solo female traveler and online entrepreneur (including vlogger and blogger) who has visited all seven continents \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 28);\n        i0.ɵɵtext(53, \" MY OBJECTIVE? To show YOU that, despite the odds, it is entirely possible to live a life of nonstop travel while still achieving financial independence through remote employment. My no-nonsense learnings and experiences, as well as my tried-and-true working tools, travel ideas, guides, hacks, and MORE, will assist you in achieving these goals. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r4 = i0.ɵɵreference(21);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.signInForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControlName\", \"email\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signInForm.get(\"email\").hasError(\"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signInForm.get(\"email\").hasError(\"email\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControlName\", \"password\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r4.type === \"password\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r4.type === \"text\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"color\", \"primary\")(\"disabled\", ctx.signInForm.disabled);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.signInForm.disabled);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.signInForm.disabled);\n      }\n    },\n    directives: [i6.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i7.MatFormField, i7.MatLabel, i8.MatInput, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i9.MatButton, i7.MatSuffix, i7.MatError, i10.FuseAlertComponent, i11.MatIcon, i12.MatProgressSpinner],\n    encapsulation: 2,\n    data: {\n      animation: fuseAnimations\n    }\n  });\n  return AuthSignInComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}